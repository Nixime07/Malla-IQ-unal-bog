
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malla Ingeniería Química</title>
  <link href="https://fonts.googleapis.com/css2?family=Avenir&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Avenir', sans-serif;
      background: #f0f8ff;
      margin: 0;
      padding: 1rem;
    }
    h1 {
      text-align: center;
      font-weight: bold;
      margin-bottom: 0.2rem;
    }
    h2.subtitle {
      text-align: center;
      font-weight: bold;
      font-style: italic;
      margin-top: 0;
      margin-bottom: 1.5rem;
    }
    .wrapper {
      display: flex;
      flex-direction: column;
      gap: 2rem;
    }
    .grid-row {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      border-top: 2px solid #ccc;
      padding-top: 1rem;
    }
    .semester {
      background: #fff;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      min-width: 220px;
    }
    .semester h2 {
      font-size: 1.1rem;
      text-align: center;
      margin-bottom: 1rem;
    }
    .subject {
      padding: 0.5rem;
      margin-bottom: 0.5rem;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      font-size: 0.9rem;
    }
    .blocked {
      background-color: #ff7477;
      text-decoration: none;
    }
    .available {
      background-color: #4EDAE4;
    }
    .approved {
      background-color: #A0E8DE;
      text-decoration: line-through;
    }
    @media (max-width: 768px) {
      .grid-row {
        flex-direction: column;
        align-items: center;
      }
    }
  </style>
</head>
<body>
  <h1>Malla Curricular Ing. Química</h1>
  <h2 class="subtitle">UNAL-Bog</h2>
  <div class="wrapper">
    <div class="grid-row" id="row1"></div>
    <div class="grid-row" id="row2"></div>
  </div>
  <script>
    const materias = {
      "1": [
        {id:"quimica", nombre:"Principios de Química"},
        {id:"lab_quimica", nombre:"Lab. Técnicas Básicas en Química"},
        {id:"calculo_dif", nombre:"Cálculo Diferencial"},
        {id:"opt_ing", nombre:"Optativa - Herramientas Ing."},
        {id:"intro_iq", nombre:"Intro a la Ingeniería Química"},
      ],
      "2": [
        {id:"analisis", nombre:"Principios de Análisis Químico", req:["quimica"]},
        {id:"algebra", nombre:"Álgebra Lineal", req:["calculo_dif"]},
        {id:"calculo_int", nombre:"Cálculo Integral", req:["calculo_dif"]},
        {id:"mecanica", nombre:"Fundamentos de Mecánica", req:["calculo_dif"]},
        {id:"balance_mat", nombre:"Balance de Materia"},
      ],
      "3": [
        {id:"lab_analisis", nombre:"Lab. de Análisis Químico", req:["quimica"]},
        {id:"biologia", nombre:"Biología Molecular y Celular"},
        {id:"calculo_var", nombre:"Cálculo en Varias Variables", req:["calculo_int", "algebra"]},
        {id:"electricidad", nombre:"Fund. Electricidad y Magnetismo", req:["calculo_int", "mecanica"]},
        {id:"termo", nombre:"Termodinámica", req:["balance_mat", "calculo_dif"]},
        {id:"libre1", nombre:"Libre Elección"},
      ],
      "4": [
        {id:"inorganica", nombre:"Química Inorgánica", req:["quimica"]},
        {id:"estadistica", nombre:"Probabilidad y Estadística", req:["calculo_dif"]},
        {id:"ecuaciones", nombre:"Ecuaciones Diferenciales", req:["calculo_int", "algebra"]},
        {id:"fluidos", nombre:"Fluidos", req:["termo", "mecanica"]},
        {id:"taller1", nombre:"Taller 1", req:["calculo_var", "termo"]},
        {id:"termoquimica", nombre:"Termodinámica Química", req:["calculo_var", "termo"]},
      ],
      "5": [
        {id:"organica", nombre:"Química Orgánica", req:["quimica"]},
        {id:"metodos", nombre:"Métodos Numéricos", req:["ecuaciones"]},
        {id:"calor", nombre:"Transferencia de Calor", req:["termo", "ecuaciones"]},
        {id:"solidos", nombre:"Manejo de Sólidos", req:["fluidos"]},
        {id:"balance_energia", nombre:"Balance de Energía y Equilibrio", req:["termoquimica"]},
        {id:"libre2", nombre:"Libre Elección"},
      ],
      "6": [
        {id:"lab_org", nombre:"Lab. de Química Orgánica", req:["quimica"]},
        {id:"eco", nombre:"Ingeniería Económica", req:["calculo_int"]},
        {id:"masa", nombre:"Transferencia de Masa", req:["ecuaciones"]},
        {id:"taller2", nombre:"Taller 2"},
        {id:"lab_termoprop", nombre:"Lab. Prop. Termodinámicas", req:["balance_energia"]},
        {id:"opt_termo", nombre:"Optativa Termodinámica", req:["balance_energia"]},
        {id:"libre3", nombre:"Libre Elección"},
      ],
      "7": [
        {id:"opt_econ", nombre:"Optativa Ciencias Económicas"},
        {id:"gestion", nombre:"Gestión de Proyectos", req:["eco"]},
        {id:"separacion", nombre:"Operaciones de Separación", req:["balance_energia", "masa"]},
        {id:"lab_fluids", nombre:"Lab. Fluidos y Calor", req:["solidos", "calor"]},
        {id:"reacciones", nombre:"Ingeniería de Reacciones Químicas", req:["balance_energia"]},
        {id:"libre4", nombre:"Libre Elección"},
      ],
      "8": [
        {id:"opt_materiales", nombre:"Optativa Materiales"},
        {id:"control", nombre:"Control de Procesos", req:["reacciones", "metodos"]},
        {id:"lab_opsep", nombre:"Lab. Separación y Control", req:["separacion"]},
        {id:"opt_proc", nombre:"Optativa Procesos Químicos", req:["solidos", "calor", "reacciones"]},
        {id:"diseno_proc", nombre:"Diseño de Procesos Químicos", req:["balance_energia"]},
        {id:"libre5", nombre:"Libre Elección"},
      ],
      "9": [
        {id:"taller_proj", nombre:"Taller Proyectos"},
        {id:"diseno_plantas", nombre:"Diseño Plantas y Equipos", req:["separacion", "diseno_proc"]},
        {id:"proc", nombre:"Ingeniería de Procesos", req:["diseno_proc"]},
        {id:"libre6", nombre:"Libre Elección"},
        {id:"libre7", nombre:"Libre Elección"},
      ],
      "10": [
        {id:"trabajo_grado", nombre:"Trabajo de Grado"},
        {id:"libre8", nombre:"Libre Elección"},
        {id:"libre9", nombre:"Libre Elección"},
        {id:"libre10", nombre:"Libre Elección"},
        {id:"libre11", nombre:"Libre Elección"},
      ]
    };

    const aprobadas = new Set();

    function checkRequisitos(m) {
      if (!m.req) return true;
      return m.req.every(r => aprobadas.has(r));
    }

    function render() {
      const row1 = document.getElementById("row1");
      const row2 = document.getElementById("row2");
      row1.innerHTML = "";
      row2.innerHTML = "";
      for (const [semestre, lista] of Object.entries(materias)) {
        const col = document.createElement("div");
        col.className = "semester";
        col.innerHTML = `<h2>Semestre ${semestre}</h2>`;
        for (const mat of lista) {
          const div = document.createElement("div");
          div.className = "subject";
          if (aprobadas.has(mat.id)) {
            div.classList.add("approved");
          } else if (checkRequisitos(mat)) {
            div.classList.add("available");
          } else {
            div.classList.add("blocked");
          }
          div.textContent = mat.nombre;
          div.onclick = () => {
            if (checkRequisitos(mat)) {
              if (aprobadas.has(mat.id)) {
                aprobadas.delete(mat.id);
              } else {
                aprobadas.add(mat.id);
              }
              render();
            }
          }
          col.appendChild(div);
        }
        (parseInt(semestre) <= 5 ? row1 : row2).appendChild(col);
      }
    }

    render();
  </script>
</body>
</html>
